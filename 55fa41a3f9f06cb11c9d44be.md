# 有关python的问题

代码：
import pandas as pd
import numpy as np
benchmark="HS300"
universe = set_universe('HS300')[:10]

def initialize(account):                   # 初始化虚拟账户状态
    pass
def handle_data(account):
    hist=account.get_history(15)
    for i in hist:
        print hist[i]
        print '#####################################################################################################################'
        print hist[i]['closePrice']
        print '*********************************************************************************************************************'
        print hist[i]['closePrice'][-1]
        
结果如下：      
{'closePrice': array([ 6.294,  6.359,  6.33 ,  6.438,  6.438,  6.208,  6.388,  6.604,
        6.604,  6.446,  6.661,  6.633,  6.438,  6.561,  6.597]), 'turnoverValue': array([  1.39185904e+08,   1.14848696e+08,   1.69834240e+08,
         2.22772368e+08,   1.68791728e+08,   1.44859296e+08,
         1.28777912e+08,   3.39685056e+08,   2.02116608e+08,
         1.20288400e+08,   1.98104160e+08,   2.14263504e+08,
         1.83824176e+08,   2.16384224e+08,   2.71551296e+08]), 'turnoverVol': array([ 15831190.,  13018601.,  19411328.,  25005236.,  18919272.,
        16519055.,  14664762.,  37007164.,  21995124.,  13293601.,
        21739374.,  23027980.,  20357872.,  23656140.,  29959840.]), 'lowPrice': array([ 6.266,  6.258,  6.215,  6.28 ,  6.352,  6.179,  6.165,  6.374,
        6.489,  6.438,  6.381,  6.618,  6.345,  6.41 ,  6.345]), 'highPrice': array([ 6.417,  6.388,  6.381,  6.517,  6.51 ,  6.46 ,  6.388,  6.726,
        6.726,  6.633,  6.676,  6.791,  6.64 ,  6.69 ,  6.669]), 'openPrice': array([ 6.381,  6.33 ,  6.338,  6.309,  6.417,  6.46 ,  6.179,  6.381,
        6.589,  6.604,  6.503,  6.726,  6.64 ,  6.41 ,  6.561]), 'preClosePrice': array([ 6.33 ,  6.294,  6.359,  6.33 ,  6.438,  6.438,  6.208,  6.388,
        6.604,  6.604,  6.446,  6.661,  6.633,  6.438,  6.561])}
#####################################################################################################################
[ 6.294  6.359  6.33   6.438  6.438  6.208  6.388  6.604  6.604  6.446
  6.661  6.633  6.438  6.561  6.597]
*********************************************************************************************************************
6.597
{'closePrice': array([ 5.681,  5.681,  5.681,  5.681,  5.681,  5.592,  5.76 ,  6.025,
        6.016,  5.888,  6.075,  6.114,  6.035,  5.907,  5.71 ]), 'turnoverValue': array([  2.05699504e+08,   0.00000000e+00,   0.00000000e+00,
         0.00000000e+00,   0.00000000e+00,   3.50119104e+08,
         3.42845536e+08,   4.48031360e+08,   3.03369376e+08,
         1.50848592e+08,   2.38049616e+08,   2.19382784e+08,
         2.49998336e+08,   1.38442720e+08,   2.10979792e+08]), 'turnoverVol': array([ 35882436.,         0.,         0.,         0.,         0.,
        62452984.,  59902112.,  74254896.,  49658984.,  25064980.,
        38703968.,  35240356.,  41138444.,  23059674.,  35702708.]), 'lowPrice': array([ 5.543,  0.   ,  0.   ,  0.   ,  0.   ,  5.376,  5.405,  5.72 ,
        5.809,  5.878,  5.907,  6.016,  5.878,  5.838,  5.651]), 'highPrice': array([ 5.75 ,  0.   ,  0.   ,  0.   ,  0.   ,  5.671,  5.838,  6.094,
        6.193,  6.016,  6.124,  6.212,  6.104,  5.996,  5.986]), 'openPrice': array([ 5.681,  0.   ,  0.   ,  0.   ,  0.   ,  5.553,  5.504,  5.769,
        6.114,  5.996,  5.907,  6.144,  6.094,  5.996,  5.907]), 'preClosePrice': array([ 5.612,  5.681,  5.681,  5.681,  5.681,  5.681,  5.592,  5.76 ,
        6.025,  6.016,  5.888,  6.075,  6.114,  6.035,  5.907])}
#####################################################################################################################
[ 5.681  5.681  5.681  5.681  5.681  5.592  5.76   6.025  6.016  5.888
  6.075  6.114  6.035  5.907  5.71 ]
*********************************************************************************************************************
5.71
[datetime.datetime(2013, 1, 4, 0, 0), datetime.datetime(2013, 1, 7, 0, 0), datetime.datetime(2013, 1, 8, 0, 0), datetime.datetime(2013, 1, 9, 0, 0), datetime.datetime(2013, 1, 10, 0, 0), datetime.datetime(2013, 1, 11, 0, 0), datetime.datetime(2013, 1, 14, 0, 0), datetime.datetime(2013, 1, 15, 0, 0), datetime.datetime(2013, 1, 16, 0, 0), datetime.datetime(2013, 1, 17, 0, 0), datetime.datetime(2013, 1, 18, 0, 0), datetime.datetime(2013, 1, 21, 0, 0), datetime.datetime(2013, 1, 22, 0, 0), datetime.datetime(2013, 1, 23, 0, 0), datetime.datetime(2013, 1, 24, 0, 0)]
#####################################################################################################################
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
<mercury-input-25-9d74bda7bf81> in <module>()
     33                             slippage        = slippage,
     34                             refresh_rate    = refresh_rate,
---> 35                             freq            = freq)
     36     perf = quartz.perf_parse(bt, quartz_acct)
     37     perf_temp = {}

python2.7/site-packages/quartz/backtest.pyc in backtest_generator(start, end, benchmark, universe, capital_base, initialize, handle_data, csvs, security_base, commission, slippage, refresh_rate, freq, *args, **kwargs)
    242             try:
    243                 if len(data) and account.days_counter % refresh_rate == 0:
--> 244                     account.handle_data(data)
    245                 report.update(account, data)
    246 

python2.7/site-packages/quartz/sim_condition/env.pyc in handle_data(self, data)
    290             self.referenceReturn = self._get_reference_return()
    291             self.referencePortfolioValue = self._get_reference_portfolio_value()
--> 292             self.strg._handle_data(self)
    293             transact(self, data)
    294 

<mercury-input-25-9d74bda7bf81> in handle_data(account)
     11         print hist[i]
     12         print '#####################################################################################################################'
---> 13         print hist[i]['closePrice']
     14         print '*********************************************************************************************************************'
     15         print hist[i]['closePrice'][-1]

TypeError: list indices must be integers, not str

怎么破？