# 新手问个关于取历史数据的问题

用account.get_attribute_history('closePrice', n)算一些与均线相关的参数

但我发现n的取值与回测时间跨度有关，n不能大于回测跨度。而且实际能取到数据量只有end-start-n，比如start=1 end=5，n=2，那么只能取到从3号开始到5号的数据。也就是说当设置了start和end后能够取到的历史数据量就确定了。这似乎不太符合一般逻辑，因为我回测时间是start到end，就应该给去计算这中间的数据，不应该让用户去计算需要取多少数据量。这点有些困惑。

第二个想问下能否获取历史上每天的市场平均动态市盈率，或者每天每个股票的动态市盈率，或者HS300的平均动态市盈率？

本人新手，先谢谢各位回答的大神啦。