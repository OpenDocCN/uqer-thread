# 使用决策树预测大盘指数（改）

#### 前文回顾:[重新比较3个模型预测大盘准确率](https://uqer.datayes.com/community/share/58557c8a954fa20050b77496)

* #### 在和坛友们经过友好讨论以后，我认为时间对于预测大盘来说确实是一个不可忽视的信息，粗暴地交叉验证获得的准确率，以及依靠这个准确率进行的调参，很容易过拟合。

* #### 以及，我之前发现一个问题，如果单纯地把30天后的涨跌算作大盘指数涨跌，很容易让模型拟合噪音，于是我设定了10%的阈值，高于这个阈值的时候才认为大盘在涨，低于这个阈值的时候才认为大盘在跌。当然，更好的办法是使用mean in 30 days来作为指数涨跌的依据。不过个人觉得设定阈值已经足够表现大盘了。

* #### 于是我熬夜改完了代码，发现这样一件事，决策树对于大盘的预测很稳健性很差。之前的帖子说决策树相对比较有效一定是过拟合了……嗯。
* #### 还有一点，决策树认为有一些因子重要性为0，也有可能是我们选取数据的时候，没选取到足够预测大盘涨跌的有效数据。